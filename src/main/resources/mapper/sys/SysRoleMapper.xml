<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.db.sys.dao.SysRoleDao">
    <!--查询数据 -->
    <select id="findPageObjects" resultType="com.db.sys.entity.SysRole">
        select * from jtsys.sys_roles
        <include refid="queryWhereId"/>
        order by createdTime desc
        limit #{startIndex},#{pageSize}
    </select>
    <!--统计个数 -->
    <select id="getRowCount" resultType="int">
        select  count(*) from jtsys.sys_roles
        <include refid="queryWhereId"/>
    </select>
    <!-- 根据id 删除数据 -->
    <delete id="deleteObject" parameterType="int">
        delete from jtsys.sys_roles where id=#{id}
    </delete>
    <!--插入数据 -->
    <insert id="insertObject">
        insert into jtsys.sys_roles(id,name,note,createdTime,modifiedTime,createdUser,modifiedUser)
            values (null,#{name},#{note},now(),now(),
                    #{createdUser},#{modifiedUser})
    </insert>
    

<sql id="queryWhereId">
    <where>
        <if test="name!=null and name!=''">
            name like concat("%",#{name},"%")
        </if>
    </where>
</sql>
    


</mapper>








